\RequirePackage{todonotes}
\RequirePackage{comment}

% \definecolor{todocolor}{rgb}{0.57, 0.36, 0.51}
\newcommand{\todocolor}{violet!75!red}
% \newcommand\itodo[1]{
%   \begin{mdframed}[
%     innerleftmargin=0pt, 
%     innerrightmargin=0pt, 
%     % innerbottommargin=0pt, 
%     % innertopmargin=0pt, 
%     backgroundcolor=green!3, linewidth=1pt, linecolor=red
%   ]
%     #1
%   \end{mdframed}
% }
\newenvironment{itodo}
{
  \begin{mdframed}[
    innerleftmargin=0pt, 
    innerrightmargin=0pt, 
    backgroundcolor=green!3, 
    linewidth=1pt, 
    linecolor=red
  ]
  % \begin{mdframed}[
  %   backgroundcolor=red!1, 
  %   linewidth=1pt, 
  %   linecolor=red!80!black
  % ]
}{
  \end{mdframed}
}

\newenvironment{correction}
{
  \begin{mdframed}[
    backgroundcolor=red!1, 
    linewidth=1pt, 
    linecolor=red!80!black
  ]
  \color{red!80!black}
}{
  \end{mdframed}
}

\newenvironment{lessimportant}%
  {\begingroup\small\color{gray}}%
  {\endgroup}


\usetikzlibrary{arrows.meta}
\newcommand{\uppertip}{
  \tikz[anchor=base, baseline]{
    \draw[-{Triangle}, thick] (0,1ex) -- (0,1.1ex);
  }
}

\newcommand{\lowertip}{
  \tikz[anchor=base, baseline]{
    \draw[-{Triangle}, thick] (0,-0.5ex) -- (0,-0.6ex);
  }
}

% from: https://tex.stackexchange.com/questions/142242/robust-way-to-mark-draft-text
\RequirePackage{stackengine}
\setstackgap{L}{.5\baselineskip}
\newcommand\markabove[2]{{%
  \sffamily\bfseries\boldmath\color{\todocolor}%
  \hsmash{\uppertip}% 
  \smash{\toplap{#1}{\scriptsize#2}}%
}}
\newcommand\markbelow[2]{{%
  \sffamily\bfseries\boldmath\color{\todocolor}% 
  \hsmash{\lowertip}%
  \smash{\bottomlap{#1}{\scriptsize#2}}%
}}

