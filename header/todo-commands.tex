\RequirePackage{todonotes}
\RequirePackage{comment}

% \definecolor{todocolor}{rgb}{0.57, 0.36, 0.51}
\newcommand{\todocolor}{violet!75!red}
\newcommand\itodo[1]{
  \begin{mdframed}[backgroundcolor=green!5, linewidth=1pt, linecolor=red]
    \color{\todocolor}#1
  \end{mdframed}
}

% \newcommand\precorrection[1]{
%   \begin{mdframed}[backgroundcolor=green!2, linewidth=1pt, linecolor=red]
%     \color{red}#1
%   \end{mdframed}
% }

\newenvironment{correction}
{
  \begin{mdframed}[backgroundcolor=red!1, linewidth=1pt, linecolor=red!80!black]
  \color{red!80!black}
}{
  \end{mdframed}
}



\usetikzlibrary{arrows.meta}
\newcommand{\uppertip}{
  \tikz[anchor=base, baseline]{
    \draw[-{Triangle}, thick] (0,1ex) -- (0,1.1ex);
  }
}

\newcommand{\lowertip}{
  \tikz[anchor=base, baseline]{
    \draw[-{Triangle}, thick] (0,-0.5ex) -- (0,-0.6ex);
  }
}

% from: https://tex.stackexchange.com/questions/142242/robust-way-to-mark-draft-text
\RequirePackage{stackengine}
\setstackgap{L}{.5\baselineskip}
\newcommand\markabove[2]{{%
  \sffamily\bfseries\boldmath\color{\todocolor}%
  \hsmash{\uppertip}% 
  \smash{\toplap{#1}{\scriptsize#2}}%
}}
\newcommand\markbelow[2]{{%
  \sffamily\bfseries\boldmath\color{\todocolor}% 
  \hsmash{\lowertip}%
  \smash{\bottomlap{#1}{\scriptsize#2}}%
}}

